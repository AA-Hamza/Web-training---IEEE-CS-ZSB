<!DOCTYPE html>
<html>
    <head>
        <title>To-Do List</title>
        <link rel="stylesheet" href="css/main.css">
    </head>
    <body>
        <div class="header">
            <h2>TO-DO</h2>
            <input id="input-field"  type="text" placeholder="item">
            <button onclick="newElement()">ADD</button>
        </div>
        <ul id="items-list">
            <li>Study For Finals</li>
            <li>Free the ducks</li>
            <li>write an essay on why js sucks</li>
            <li>Actually write an essay on how the web sucks</li>
            <li>Don't Write above essays, slack a bit</li>
        </ul>
        <script>
            /****** For demonstrating purposes ********/
            //close button
            let myListItems = document.getElementsByTagName("LI");
            for (let i = 0; i < myListItems.length; ++i) {
                let span = document.createElement("SPAN");
                let txt  = document.createTextNode("\u00D7");
                span.className = "close";
                span.appendChild(txt);
                myListItems[i].appendChild(span);
            }

            // Clicking on close button
            let close = document.getElementsByClassName("close");
            for (let i = 0; i < close.length; ++i) {
                close[i].onclick = function() {
                    let div = this.parentElement;
                    div.style.display = "none";
                }
            }
            /****** Above Functions were just to make examples I made in html work like expected ******/

            function newElement() {
                let inputValue = document.getElementById("input-field").value;
                if (inputValue === '') {
                    alert("You have to write an item!!");
                }
                else {
                    let li   = document.createElement("li");
                    let item_name = document.createTextNode(inputValue);
                    li.appendChild(item_name);

                    //console.log("HELLLO");
                    document.getElementById("input-field").value = "";

                    var close_button = document.createElement("SPAN");
                    close_button.onclick = function () {
                        var div = this.parentElement;
                        div.style.display = "none";
                    }
                    var close_button_text = document.createTextNode("\u00D7");
                    close_button.className = "close";
                    close_button.appendChild(close_button_text);
                    li.appendChild(close_button);

                    document.getElementById("items-list").appendChild(li);
                }
            }
            const input_field = document.getElementById("input-field");
            input_field.addEventListener("keyup", ({key}) => {if (key === "Enter") newElement()});

        </script>
    </body>
</html>
